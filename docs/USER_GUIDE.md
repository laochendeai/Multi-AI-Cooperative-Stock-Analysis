# 📚 TradingAgents 用户使用指南

## 🎯 系统概述

TradingAgents是一个基于多智能体协作的股票分析系统，通过15个专业化智能体的协作，为用户提供全面、专业的投资分析服务。

### 核心特性
- 🤖 **15个专业智能体**: 分析师、研究员、风险管理、交易员
- 🔧 **灵活配置**: 支持多种LLM提供商和模型选择
- 📊 **智能报告**: 多种格式和模板的分析报告
- 🧠 **智能精简**: 自动提取关键信息，避免信息过载
- 🎨 **友好界面**: 直观的Web界面，易于操作

## 🚀 快速开始

### 1. 系统启动

```bash
# 启动主应用
python app_tradingagents_upgraded.py
```

启动后，在浏览器中访问显示的本地地址（通常是 `http://127.0.0.1:7860`）

### 2. 首次配置

#### 配置LLM提供商
1. 点击"LLM配置管理"标签页
2. 在"内置提供商"中配置您的API密钥：
   - OpenAI: 输入您的OpenAI API密钥
   - DeepSeek: 输入您的DeepSeek API密钥
   - Google: 输入您的Google API密钥
   - Moonshot: 输入您的Moonshot API密钥
   - 阿里百炼: 输入您的阿里百炼API密钥
3. 点击"测试连接"验证配置是否正确

#### 配置智能体模型（可选）
1. 点击"智能体配置"标签页
2. 为不同智能体选择最适合的模型
3. 系统会自动进行兼容性检查和推荐

### 3. 进行股票分析

1. 在主界面输入股票代码（如：600519、000001）
2. 选择分析深度（1-4轮）
3. 选择要启用的分析师类型
4. 点击"🚀 开始分析"
5. 等待分析完成（通常需要2-5分钟）

## 📊 功能详解

### 股票分析功能

#### 分析师团队
- **📈 市场分析师**: 技术指标分析和价格走势预测
- **💭 情感分析师**: 社交媒体情绪和市场情感分析
- **📰 新闻分析师**: 新闻事件和宏观经济影响分析
- **📊 基本面分析师**: 财务数据和基本面指标分析

#### 研究团队
- **🐂 多头研究员**: 寻找投资机会和看涨理由
- **🐻 空头研究员**: 识别投资风险和看跌因素
- **👨‍💼 研究经理**: 协调多空辩论并综合投资建议

#### 风险管理团队
- **⚡ 激进辩论者**: 提出大胆的投资观点
- **🛡️ 保守辩论者**: 强调风险控制和稳健投资
- **⚖️ 中性辩论者**: 提供平衡的观点和分析
- **🎯 风险经理**: 最终的风险评估和决策

#### 交易团队
- **💼 交易员**: 制定具体的交易策略和执行计划

### 分析深度选择

- **1轮分析**: 快速分析，适合初步了解
- **2轮分析**: 标准分析，包含基本的多空辩论
- **3轮分析**: 深度分析，多轮辩论深化观点
- **4轮分析**: 最深度分析，全面的风险评估

## 🔧 高级配置

### LLM提供商管理

#### 添加自定义提供商
1. 进入"LLM配置管理" → "自定义提供商"
2. 填写提供商信息：
   - **提供商名称**: 显示名称
   - **提供商ID**: 唯一标识符
   - **API基础URL**: API服务地址
   - **API密钥**: 访问密钥
3. 配置高级设置（可选）：
   - **API密钥头部**: 默认为"Authorization"
   - **API密钥前缀**: 默认为"Bearer "
   - **请求格式**: 选择API兼容格式
4. 点击"添加提供商"

#### 测试连接
- 在任何提供商配置完成后，使用"连接测试"功能验证配置
- 系统会发送测试请求并显示结果

### 智能体模型配置

#### 单个智能体配置
1. 进入"智能体配置"标签页
2. 选择智能体类别和具体智能体
3. 选择LLM提供商和模型
4. 查看兼容性评估：
   - **兼容性评分**: 0-1分，越高越适合
   - **推荐等级**: 强烈推荐/推荐/可用/不推荐
5. 点击"更新配置"

#### 批量配置
1. 点击"加载当前配置"获取所有智能体的当前配置
2. 在表格中修改"新提供商"和"新模型"列
3. 点击"批量更新"应用所有更改

#### 兼容性检查
- 系统会自动检查模型与智能体的兼容性
- 考虑因素包括：
  - 模型类型（聊天/多模态等）
  - 上下文长度要求
  - 性能优先级匹配
  - 智能体特性需求

### 报告生成与管理

#### 选择报告模板
- **标准模板**: 完整的分析报告，适合大多数用户
- **详细模板**: 包含详细分析矩阵和图表
- **高管模板**: 简洁的决策摘要，适合高管阅读
- **技术模板**: 专注于技术分析的报告
- **研究模板**: 深度研究报告，适合专业投资者

#### 自定义模板
1. 进入"报告管理" → "模板管理"
2. 创建新模板或编辑现有模板
3. 使用变量格式插入动态内容：
   ```markdown
   # {stock_name} 分析报告
   
   ## 基本信息
   - 股票代码: {symbol}
   - 分析时间: {analysis_time}
   
   ## 综合分析
   {comprehensive_report}
   ```
4. 保存模板并在报告生成中使用

#### 报告格式选项
- **包含目录**: 自动生成报告目录
- **包含图表分析**: 添加图表分析部分（开发中）
- **包含页脚**: 添加生成时间和版权信息

## 💡 使用技巧

### 提高分析质量
1. **选择合适的分析深度**: 
   - 日常分析使用2轮
   - 重要决策使用3-4轮
2. **启用所有分析师**: 获得最全面的分析视角
3. **使用真实LLM**: 确保"使用真实LLM"选项已启用

### 优化性能
1. **合理配置重试次数**: 
   - 网络稳定时可降低重试次数
   - 网络不稳定时适当增加重试次数
2. **选择合适的模型**: 
   - 速度优先：选择turbo类型模型
   - 质量优先：选择pro/max类型模型

### 报告管理
1. **定期导出报告**: 重要分析结果及时保存
2. **使用不同模板**: 根据受众选择合适的报告模板
3. **自定义模板**: 为特定需求创建专用模板

## ⚠️ 注意事项

### 免责声明
- 本系统提供的分析结果仅供参考，不构成投资建议
- 投资有风险，决策需谨慎
- 请结合自身情况和专业建议做出投资决策

### 使用限制
- API调用受到各提供商的速率限制
- 某些功能需要稳定的网络连接
- 分析质量依赖于配置的LLM模型性能

### 数据安全
- API密钥采用加密存储
- 分析数据仅在本地处理
- 不会上传个人投资信息到外部服务器

## 🔧 故障排除

### 常见问题

#### 分析失败
1. **检查API密钥**: 确保配置正确且有效
2. **检查网络连接**: 确保能访问LLM服务
3. **检查股票代码**: 确保输入的是有效的股票代码
4. **查看错误日志**: 在界面底部查看详细错误信息

#### 配置问题
1. **LLM配置丢失**: 重新配置API密钥并保存
2. **智能体配置异常**: 使用"重置为默认配置"功能
3. **模板加载失败**: 检查模板文件格式是否正确

#### 性能问题
1. **分析速度慢**: 
   - 选择更快的模型
   - 减少分析深度
   - 检查网络状况
2. **内存占用高**: 
   - 关闭不必要的浏览器标签页
   - 重启应用程序

### 获取帮助
- 查看技术文档：`docs/TECHNICAL_ARCHITECTURE.md`
- 运行集成测试：`python test_system_integration.py`
- 查看日志文件：`logs/` 目录下的日志文件

## 📈 最佳实践

### 投资分析流程
1. **市场概览**: 先了解整体市场环境
2. **个股分析**: 使用系统进行深度分析
3. **风险评估**: 重点关注风险管理建议
4. **决策制定**: 结合多方信息做出决策
5. **持续跟踪**: 定期重新分析关注的股票

### 系统使用建议
1. **定期更新配置**: 保持LLM配置的时效性
2. **备份重要报告**: 及时保存重要的分析结果
3. **关注系统更新**: 定期查看新功能和改进
4. **合理使用资源**: 避免过度频繁的API调用

---

*用户指南版本: v2.0*

*最后更新: 2025-08-11*
